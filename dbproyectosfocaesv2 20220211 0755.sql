--
-- Script was generated by Devart dbForge Studio 2019 for MySQL, Version 8.1.22.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 11/2/2022 07:55:57
-- Server version: 5.7.25-log
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

DROP DATABASE IF EXISTS dbproyectosfocaesv2;

CREATE DATABASE dbproyectosfocaesv2
	CHARACTER SET utf8
	COLLATE utf8_spanish2_ci;

--
-- Set default database
--
USE dbproyectosfocaesv2;

--
-- Create table `universidades`
--
CREATE TABLE universidades (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  NombreUniversidad VARCHAR(500) NOT NULL,
  TipoUniversidad VARCHAR(255) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `socios`
--
CREATE TABLE socios (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  NombreSocio VARCHAR(500) NOT NULL,
  TipoSocio VARCHAR(255) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
AVG_ROW_LENGTH = 16384,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `proyectos`
--
CREATE TABLE proyectos (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  CodigoSia VARCHAR(255) NOT NULL,
  Titulo VARCHAR(2500) NOT NULL,
  AnnoInicio VARCHAR(4) NOT NULL,
  Vigencia VARCHAR(15) NOT NULL,
  AreaInfluencia VARCHAR(2500) NOT NULL,
  CantEstVinculadosSede INT(11) NOT NULL,
  CantEstVinculadosOtros INT(11) NOT NULL,
  TipoProyecto VARCHAR(255) NOT NULL,
  Estado VARCHAR(100) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 34,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `universidades_proyectos`
--
CREATE TABLE universidades_proyectos (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  IdUniversidad BIGINT(20) UNSIGNED NOT NULL,
  IdProyecto BIGINT(20) UNSIGNED NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 9,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE universidades_proyectos 
  ADD CONSTRAINT universidades_proyectos_idproyecto_foreign FOREIGN KEY (IdProyecto)
    REFERENCES proyectos(id);

--
-- Create foreign key
--
ALTER TABLE universidades_proyectos 
  ADD CONSTRAINT universidades_proyectos_iduniversidad_foreign FOREIGN KEY (IdUniversidad)
    REFERENCES universidades(id);

--
-- Create table `socios_proyectos`
--
CREATE TABLE socios_proyectos (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  IdSocio BIGINT(20) UNSIGNED NOT NULL,
  IdProyecto BIGINT(20) UNSIGNED NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 7,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE socios_proyectos 
  ADD CONSTRAINT socios_proyectos_idproyecto_foreign FOREIGN KEY (IdProyecto)
    REFERENCES proyectos(id);

--
-- Create foreign key
--
ALTER TABLE socios_proyectos 
  ADD CONSTRAINT socios_proyectos_idsocio_foreign FOREIGN KEY (IdSocio)
    REFERENCES socios(id);

--
-- Create table `financiamientos`
--
CREATE TABLE financiamientos (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  NombreFinanciamiento VARCHAR(2500) NOT NULL,
  TipoFinanciamiento VARCHAR(150) NOT NULL,
  Institucion VARCHAR(300) NOT NULL,
  Cantidad DOUBLE NOT NULL,
  IdProyecto BIGINT(20) UNSIGNED NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE financiamientos 
  ADD CONSTRAINT financiamientos_idproyecto_foreign FOREIGN KEY (IdProyecto)
    REFERENCES proyectos(id);

--
-- Create table `beneficiarios`
--
CREATE TABLE beneficiarios (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  NombreBeneficiario VARCHAR(2500) NOT NULL,
  TipoBeneficiario VARCHAR(255) NOT NULL,
  CantBeneFamilia INT(11) NOT NULL,
  CantBeneMujeres INT(11) NOT NULL,
  CantBeneHombre INT(11) NOT NULL,
  CantBeneTotal INT(11) NOT NULL,
  Clasificacion VARCHAR(255) NOT NULL,
  IdProyecto BIGINT(20) UNSIGNED NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 2,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE beneficiarios 
  ADD CONSTRAINT beneficiarios_idproyecto_foreign FOREIGN KEY (IdProyecto)
    REFERENCES proyectos(id);

--
-- Create table `academicos`
--
CREATE TABLE academicos (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  Nombre VARCHAR(150) NOT NULL,
  Apellido1 VARCHAR(150) NOT NULL,
  Apellido2 VARCHAR(150) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 25,
AVG_ROW_LENGTH = 1365,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `academicos_proyectos`
--
CREATE TABLE academicos_proyectos (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  IdAcademico BIGINT(20) UNSIGNED NOT NULL,
  IdProyecto BIGINT(20) UNSIGNED NOT NULL,
  TipoAcademico VARCHAR(100) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 29,
AVG_ROW_LENGTH = 1820,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE academicos_proyectos 
  ADD CONSTRAINT academicos_proyectos_idacademico_foreign FOREIGN KEY (IdAcademico)
    REFERENCES academicos(id);

--
-- Create foreign key
--
ALTER TABLE academicos_proyectos 
  ADD CONSTRAINT academicos_proyectos_idproyecto_foreign FOREIGN KEY (IdProyecto)
    REFERENCES proyectos(id);

--
-- Create table `users`
--
CREATE TABLE users (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  email_verified_at TIMESTAMP NULL DEFAULT NULL,
  password VARCHAR(255) NOT NULL,
  remember_token VARCHAR(100) DEFAULT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create index `users_email_unique` on table `users`
--
ALTER TABLE users 
  ADD UNIQUE INDEX users_email_unique(email);

--
-- Create table `presupuestos`
--
CREATE TABLE presupuestos (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  IdProyecto BIGINT(20) DEFAULT NULL,
  ARES DOUBLE NOT NULL,
  OVDE DOUBLE NOT NULL,
  InstanciaNacional DOUBLE NOT NULL,
  InstanciaInternacional DOUBLE NOT NULL,
  PresupuestoTotal DOUBLE NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `personal_access_tokens`
--
CREATE TABLE personal_access_tokens (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  tokenable_type VARCHAR(255) NOT NULL,
  tokenable_id BIGINT(20) UNSIGNED NOT NULL,
  name VARCHAR(255) NOT NULL,
  token VARCHAR(64) NOT NULL,
  abilities TEXT DEFAULT NULL,
  last_used_at TIMESTAMP NULL DEFAULT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create index `personal_access_tokens_token_unique` on table `personal_access_tokens`
--
ALTER TABLE personal_access_tokens 
  ADD UNIQUE INDEX personal_access_tokens_token_unique(token);

--
-- Create index `personal_access_tokens_tokenable_type_tokenable_id_index` on table `personal_access_tokens`
--
ALTER TABLE personal_access_tokens 
  ADD INDEX personal_access_tokens_tokenable_type_tokenable_id_index(tokenable_type, tokenable_id);

--
-- Create table `password_resets`
--
CREATE TABLE password_resets (
  email VARCHAR(255) NOT NULL,
  token VARCHAR(255) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create index `password_resets_email_index` on table `password_resets`
--
ALTER TABLE password_resets 
  ADD INDEX password_resets_email_index(email);

--
-- Create table `migrations`
--
CREATE TABLE migrations (
  id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  migration VARCHAR(255) NOT NULL,
  batch INT(11) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 15,
AVG_ROW_LENGTH = 1365,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `failed_jobs`
--
CREATE TABLE failed_jobs (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  uuid VARCHAR(255) NOT NULL,
  `connection` TEXT NOT NULL,
  queue TEXT NOT NULL,
  payload LONGTEXT NOT NULL,
  exception LONGTEXT NOT NULL,
  failed_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create index `failed_jobs_uuid_unique` on table `failed_jobs`
--
ALTER TABLE failed_jobs 
  ADD UNIQUE INDEX failed_jobs_uuid_unique(uuid);

-- 
-- Dumping data for table universidades
--
INSERT INTO universidades(id, NombreUniversidad, TipoUniversidad, created_at, updated_at) VALUES
(1, 'UNA', 'Nacional', '2022-02-06 15:38:38', '2022-02-06 15:38:38'),
(2, 'UCR', 'Nacional', '2022-02-07 20:22:46', '2022-02-10 18:56:42');

-- 
-- Dumping data for table socios
--
INSERT INTO socios(id, NombreSocio, TipoSocio, created_at, updated_at) VALUES
(2, 'SINAC-ACAT  Asociación Costa Rica por Siempre', 'Institucionalidad', '2022-02-06 15:39:19', '2022-02-10 16:51:30'),
(4, 'aaaa', 'Empresa privada', '2022-02-10 18:30:37', '2022-02-10 18:56:12');

-- 
-- Dumping data for table proyectos
--
INSERT INTO proyectos(id, CodigoSia, Titulo, AnnoInicio, Vigencia, AreaInfluencia, CantEstVinculadosSede, CantEstVinculadosOtros, TipoProyecto, Estado, created_at, updated_at) VALUES
(31, '0275-20', 'Elaboración e Implementación de los Planes de Adaptación y mitigación al Cambio Climático de las ecorregiones Cuenca Baja del Tempisque y Tenorio-Miravalles', '2020', '2020-2021', 'Cinco áreas silvestres protegidas (ASP)del Área de Conservación Arenal Tempisque (ACAT): Refugio Nacional de Vida Silvestre Cipancí (RNVSC), Reserva Biológica Lomas Barbudal (RBLB), Parque Nacional Palo Verde (PNPV),  Parque Nacional y Zona Protectora Volcán Tenorio (PNVT / ZPT), Parque Nacional y Zona Protectora Volcán Miravalles (PNVM / ZPM)', 0, 0, 'Integrado', 'Cerrado', '2022-02-08 20:45:12', '2022-02-08 20:45:12'),
(33, '35-15', '"Fortalecimiento de las capacidades de las Asociaciones Administradoras de Acueductos Rurales (ASADAS) mediante la capacitación e implementación de mejores prácticas, técnicas e innovación en la gestión comunitaria del agua"', '2015', '2015-2016', '"Parte alta y media del Cantón de Abangares (Coyolar, Matapalo, Santa Lucía y Arizona, Las Palmas, Limonal y de la parte baja, Peñas Blancas, San Joaquín, Pueblo Nuevo y San Buenaventura). Santa Cruz (Huacas, Playa Potrero, Lorena de Cartagena, Bejuco de Tempate, El Llano, Hatillo Veintisiete de Abril, Brasilito, Los Ranchos, Paso Hondo, Santa Rosa)"', 1, 0, 'Extension', 'Cerrado', '2022-02-09 15:16:22', '2022-02-09 15:16:22');

-- 
-- Dumping data for table academicos
--
INSERT INTO academicos(id, Nombre, Apellido1, Apellido2, created_at, updated_at) VALUES
(14, 'Laura Gabriela', 'Obando', 'Villegas', '2022-02-08 19:37:20', '2022-02-08 19:37:20'),
(15, 'Lucía del Mar', 'Corrales', 'Ulate', '2022-02-08 19:37:38', '2022-02-08 19:37:38'),
(16, 'Juan', 'Bravo', 'Chacon', '2022-02-08 19:37:50', '2022-02-08 19:37:50'),
(17, 'Silvia Lorena', 'Zuñiga', 'Guerrero', '2022-02-08 19:38:59', '2022-02-08 19:38:59'),
(18, 'Andrea', 'Suarez', '""', '2022-02-09 04:51:43', '2022-02-09 04:51:43'),
(19, 'Alvaro', 'Baldioceda', 'Garro', '2022-02-09 04:52:39', '2022-02-09 04:52:39'),
(20, 'Daniela', 'Rojas', 'Cantillano', '2022-02-09 04:53:09', '2022-02-09 04:53:09'),
(21, 'Guillermo', 'Duran', 'Sanabria', '2022-02-09 04:53:33', '2022-02-09 04:53:33'),
(22, 'Luisa', 'Rojas', 'Zamora', '2022-02-09 04:53:50', '2022-02-09 04:53:50'),
(23, 'Sandra', 'Lezcano', 'Calderón', '2022-02-09 16:12:19', '2022-02-09 16:12:19'),
(24, 'Maria Teresa', 'Dobles', 'Villegas', '2022-02-09 16:12:42', '2022-02-09 16:12:42');

-- 
-- Dumping data for table users
--
-- Table dbproyectosfocaesv2.users does not contain any data (it is empty)

-- 
-- Dumping data for table universidades_proyectos
--
INSERT INTO universidades_proyectos(id, IdUniversidad, IdProyecto, created_at, updated_at) VALUES
(7, 1, 31, '2022-02-08 20:45:13', '2022-02-08 20:45:13'),
(8, 1, 33, '2022-02-09 15:16:23', '2022-02-09 15:16:23');

-- 
-- Dumping data for table socios_proyectos
--
INSERT INTO socios_proyectos(id, IdSocio, IdProyecto, created_at, updated_at) VALUES
(6, 2, 31, '2022-02-08 20:45:13', '2022-02-08 20:45:13');

-- 
-- Dumping data for table presupuestos
--
INSERT INTO presupuestos(id, IdProyecto, ARES, OVDE, InstanciaNacional, InstanciaInternacional, PresupuestoTotal, created_at, updated_at) VALUES
(4, 31, 54975373.83, 0, 54975373.83, 0, 54975373.83, '2022-02-08 20:45:16', '2022-02-08 20:45:16'),
(7, 33, 16775000, 0, 16775000, 0, 16775000, '2022-02-09 15:16:23', '2022-02-09 15:16:23');

-- 
-- Dumping data for table personal_access_tokens
--
-- Table dbproyectosfocaesv2.personal_access_tokens does not contain any data (it is empty)

-- 
-- Dumping data for table password_resets
--
-- Table dbproyectosfocaesv2.password_resets does not contain any data (it is empty)

-- 
-- Dumping data for table migrations
--
INSERT INTO migrations(id, migration, batch) VALUES
(1, '2014_10_12_000000_create_users_table', 1),
(2, '2014_10_12_100000_create_password_resets_table', 1),
(3, '2019_08_19_000000_create_failed_jobs_table', 1),
(4, '2019_12_14_000001_create_personal_access_tokens_table', 1),
(5, '2022_02_05_215834_create_academicos_table', 1),
(6, '2022_02_05_221848_create_proyectos_table', 2),
(7, '2022_02_05_222828_create_socios_table', 3),
(8, '2022_02_05_223224_create_universidades_table', 4),
(9, '2022_02_05_223504_create_academicos_proyectos_table', 5),
(10, '2022_02_05_224405_create_beneficiarios_table', 6),
(11, '2022_02_05_225400_create_socios_proyectos_table', 7),
(12, '2022_02_05_225652_create_presupuestos_table', 8),
(13, '2022_02_05_230120_create_financiamientos_table', 9),
(14, '2022_02_05_230401_create_universidades_proyectos_table', 10);

-- 
-- Dumping data for table financiamientos
--
INSERT INTO financiamientos(id, NombreFinanciamiento, TipoFinanciamiento, Institucion, Cantidad, IdProyecto, created_at, updated_at) VALUES
(5, 'X Convocatoria Segundo Canje de Deuda, Asociación de Costa Rica por Siempre, acuerdo de Donación IICD-X-2020-03', 'Externo', 'Otros', 0, 31, '2022-02-08 20:45:16', '2022-02-08 20:45:16'),
(6, 'Subgerencia de Sistemas Comunales del AYA', 'Externo', 'Otra', 0, 33, '2022-02-09 15:16:23', '2022-02-09 15:16:23'),
(7, 'Unión de asociaciones administradoras de acueductos y Alcantarillados comunales de la zona costera del cantón de Santa Cruz (UNAGUACOSTAS)', 'Externo', 'Otra', 0, 33, '2022-02-09 15:16:23', '2022-02-09 15:16:23');

-- 
-- Dumping data for table failed_jobs
--
-- Table dbproyectosfocaesv2.failed_jobs does not contain any data (it is empty)

-- 
-- Dumping data for table beneficiarios
--
INSERT INTO beneficiarios(id, NombreBeneficiario, TipoBeneficiario, CantBeneFamilia, CantBeneMujeres, CantBeneHombre, CantBeneTotal, Clasificacion, IdProyecto, created_at, updated_at) VALUES
(1, 'SINAC-ACAT', 'Otros', 0, 0, 0, 0, 'Directos', 31, '2022-02-08 20:45:16', '2022-02-08 20:45:16');

-- 
-- Dumping data for table academicos_proyectos
--
INSERT INTO academicos_proyectos(id, IdAcademico, IdProyecto, TipoAcademico, created_at, updated_at) VALUES
(15, 16, 31, 'Participante', '2022-02-08 20:45:13', '2022-02-08 20:45:13'),
(16, 14, 31, 'Participante', '2022-02-08 20:45:13', '2022-02-08 20:45:13'),
(17, 15, 31, 'Participante', '2022-02-08 20:45:13', '2022-02-08 20:45:13'),
(18, 17, 31, 'Responsable', '2022-02-08 20:45:13', '2022-02-08 20:45:13'),
(24, 19, 33, 'Participante', '2022-02-09 15:16:22', '2022-02-09 15:16:22'),
(25, 18, 33, 'Responsable', '2022-02-09 15:16:22', '2022-02-09 15:16:22'),
(26, 20, 33, 'Participante', '2022-02-09 15:16:22', '2022-02-09 15:16:22'),
(27, 21, 33, 'Participante', '2022-02-09 15:16:23', '2022-02-09 15:16:23'),
(28, 22, 33, 'Participante', '2022-02-09 15:16:23', '2022-02-09 15:16:23');

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;